# SkillCinema
Удобный поиск фильмов и сериалов. Основные возможности:
-	Поиск фильма/сериала по его названию
-	Поиск актеров/режиссеров по имени
-	Поддерживаются удобные фильтры, в частности, результаты поиска можно отфильтровать по жанру, стране, году съемки, рейтингу, отсотртировать по дате, популярности, рейтингу
-	Подробная информация о каждом фильме, включая информацию об актерах, режиссерах, кассовом сборе, фрагментах и триллерах, похожих фильмах
-	Триллеры фильма с youtube на полном экране
-	Возможность просмотра кадров/постеров/фан-артов фильма на полном экране
-	Подробная информация о каждом актере, включая интереные факты биографии, лучшие фильмы
-	Возможность посмотреть фильмографию актера
-	Группировка фильмов по коллекциям ("Вы интересовались", "Просмотрено", "Хочу посмотреть", "Любимое"). Возможность создания пользовательских коллекций.
-	Интересные подборки фильмов на главном экране ("Премьеры", "Популярное", "Топ-250", "Сериалы", 2 случайные подборки)
-	Кэширование самых "дорогих" данных, значительная экономия запросов к серверу (см. заметки)

Информация о фильмах берется с KinopoiskUnofficialApi. Приложение поддерживает темный режим, альбомную ориентацию. Частичная поддержка английского языка (приложение поддерживает, api нет). Здесь приведены только основные возможности приложения. Для подробного ознакомления рекомендуется установить приложение на свой смартфон! :)

## Используемый стек
-	Архитектура проекта MVVM
-	Kotlin Coroutines + State Flow для реализации многопоточности
-	Dagger2
-	Сетевые запросы выполняются с помощью Retrofit
-	Хранение коллекций фильмов реализовано с помощью RoomDatabase
-	Настройки хранятся с помощью Shared Preferences
-	Навигация между фрагментами - Navigation Component
-	Material Design 2
-	Glide для комфортной работы с изображениями
-	[TouchImageView](https://github.com/MikeOrtiz/TouchImageView) для реализации просмотра постеров фильма во весь экран с возможностью зуммирования
-	[AndroidYoutubePlayer](https://github.com/PierfrancescoSoffritti/android-youtube-player) для реализации просмотра триллеров с youtube
-	Firebase Crashlytics для отслеживания крашей

## Скриншоты
<img src="https://github.com/Yaros554/SkillCinema/blob/master/screenshots/collage.jpg">

## Тестирование
Критически важные участки кода приложения покрыты тестами. Имеются как локальные тесты, так и инструментальные. Инструментальные тесты включают в себя тестирование БД, UI-тесты и т.д. 
Как правило инструментальные тесты по своей сути являются интеграционными, а локальные - модульными. UI-тесты активно используют возможности таких библиотек как Espresso (для имитации действий пользователя),
FragmentScenario (для запуска фрагмента в тестовой Activity), Mockito (для создания мока навигационного графа). Со всеми тестами можно ознакомиться в папках test и androidtest. Для корректной работы UI-тестов
в память устройства (в папку приложения) необходимо скопировать специальный файл, который находится в папке forUiTests.

## Заметки
Для работы приложения необходимо получить минимум один токен на [сайте кинопоиска](https://kinopoiskapiunofficial.tech/). Один токен - это 500 запросов в день. Чтобы увеличить это количество необходимо получить
еще один токен. Токенов можно получить неограниченное количество. Приложение будет их переключать автоматически. При этом самые "дорогие" данные кэшируются (например, фильмография актеров), что позволяет значительно
экономить запросы.

## Запуск
Для запуска приложения добавьте токены в файл local.properties в формате api.key1=токен1, api.key2=токен2 и т.д.
Затем перейдите в build.gradle модуля, секция defaultConfig. Там объявлен массив buildConfigField. Для примера там сейчас 4 элемента. Отредактируйте его
в соответствии с имеющимся количеством токенов.
